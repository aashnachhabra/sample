<%@ page import="com.optum.ideate.mongodb.domain.BenefitCategory" %> <%@ page import="java.util.List" %> <%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %> <%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %> <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn" %> <!doctype html> <html> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script> <link rel="stylesheet" href="css/UHCcustom.css"> <link rel="stylesheet" href="css/home.css"> <link rel="stylesheet" href="css/bootstrap.css"> <link rel="stylesheet" href="css/all.css"> <link rel="stylesheet" href="css/loader.css"> <script src="js/popper-1.14.3.min.js"></script> <script src="js/datatables-1.11.5.min.js"></script> <script src="js/datatables-1.11.4.bootstrap4.min.js"></script> <script src="js/jquery-1.19.0.min.js"></script> <script src="js/lodash-4.17.10.min.js"></script> <script src="js/jquery-3.3.1.min.js"></script> <script src="js/UHCcustom.js"></script> <script src="js/bootstrap.js"></script> <script src="js/bootstrap.min.js"></script> <script src="js/bootstrap-popup.min.js"></script> <script src="js/loader.js"></script> <script src="js/jquery-3.5.1.js"></script> <link rel="stylesheet" href="css/multislect-dropdown.css"> <script type="text/javascript" src="js/bootstrap-multiselect.js"></script> <link rel="stylesheet" href="css/bootstrap-multiselect.css"> <script src="js/app/maximum-management.js"></script> <title>Plan Library</title> <link rel="icon" href="assets/PlanBuilderFavIcon.png"> <style> .table-striped tbody tr.highlight td { background-color: #ff0000; } .table-striped tbody tr.highlight { background-color: #ff0000; } .accordion-body .d-flex button { flex: 1; } .accordion-header .form-check-input { transform: scale(0.4); margin-right: 5px; } .accordion-button:not(.collapsed) .selectable-accordion strong, .accordion-button:not(.collapsed) .selectable-accordion small { color: var(--bs-primary) !important; } </style> <link href="js/frappe-datatable.min.css" rel="stylesheet"> <link rel="stylesheet" href="css/fontawesome.min.css"> <link rel="stylesheet" href="css/brands.min.css"> <link rel="stylesheet" href="css/solid.min.css"> </head> <body> <div id="main"> <%@include file="loader.jsp" %> <%@include file="header.jsp" %> <div class="text-primary" style="margin: 2em;"> <h1><i class="fa-solid fa-filter-circle-dollar"></i> Maximum Management</h1> </div> <div class="shadow-lg p-3 mb-5 bg-white rounded" style="margin:2em"> <form action="./maxManagementSearch" id="bcfilters" method="post" autocomplete="off"> <input type="hidden" id="ifpRoleId" value="${pageContext.session.getAttribute('ifpRoleId')}" /> <input type="hidden" name="validateCoc" id="validateCoc" value="" /> <div class="row"> <c:if test="${enabledCascade == 'true'}"> <span class="modal-title text-danger"> <b>Warning: </b> There are benefit limit changes that have not been cascaded to applicable plans. If you do not cascade these updates, the applicable plans will not receive the changes. If you leave this page the updates will be saved but not cascaded. </span> </c:if> </div> </br> <div class="row"> <div class="col"> <div class="form-floating"> <select id="cocSeries" name="coc" class="form-control" multiple="multiple" onchange="return validateSearch(true),onCocChange();"> <c:forEach var="coc" items="${maximumDD.cocSeriesMap}"> <option id="${coc.key}" value="${coc.key}" <c:if test="${fn:contains(maxManagementSearchRequest.coc, coc.key)}"> selected</c:if>> ${coc.value} </option> </c:forEach> </select> </div> </div> <div class="col"> <div class="form-floating"> <select id="state" name="stateName" class="form-control" multiple="multiple" onchange="return validateSearch(true);"> <c:forEach var="state" items="${maximumDD.stateMap}"> <option id="${state.key}" value="${state.key}" <c:if test="${fn:contains(maxManagementSearchRequest.stateName, state.key)}"> selected</c:if>> ${state.value} </option> </c:forEach> </select>

for some reason first the list display on the input box then only after a 1 second gap it comes as multislect dropdown whats the issue
snippet of ready function in js

$(document).ready(function() { setMultiSelectDropDown('#cocSeries', 'COC Series*'); setMultiSelectDropDown('#state', 'State*'); setMultiSelectDropDown('#standard', 'Product Family*'); $(':text').on('input', function() { if( $(':text').filter(function() { return !!this.value; }).length > 0 ) { $('#clearMaxManagement').prop('disabled', false); } else { $('#clearMaxManagement').prop('disabled', true); } }); var coc = $('#cocSeries').val(); var state = $('#state').val(); var stand = $('#standard').val(); let cocSeries= coc.length > 0 ? coc.toString() : ""; let stateSeries= state.length > 0 ? state.toString() : ""; let standSeries= stand.length > 0 ? stand.toString() : ""; if(cocSeries === ""||stateSeries === ""|standSeries === "") { document.getElementById('bensearch').disabled = true; document.getElementById('newMaximum').disabled = true; document.getElementById('clone').disabled = true; } $('#editVisitLimitModal').on('hidden.bs.modal', function (e) { var validateCoc = document.getElementById("validateCoc").value; if(validateCoc != 1){ $('#editVisitLimitModalSaveBut').removeAttr("disabled"); $('#editVisitLimitModalSaveBut').html("Save"); $("#visitlimit_addlimitbuttonid").attr("enabled", "true"); $("#visitlimit_addlimitbuttonid").html("Add Limit"); $("#visitlimit_1_limitType").val(""); $("#visitlimit_1_limitValue").val(""); $("#visitlimit_1_limitFreq").val(""); $("#visitlimit_1_limitFreqType").val(""); $("#visitlimit_limitCrossApplies").val(""); $("#visitlimit_limitApplies").val(""); $("#maxId").val(""); } }); $('#editVisitLimitModal').on('shown.bs.modal', function (e) { $('#editVisitLimitModalSaveBut').attr("disabled","true"); $("#visitlimit_addlimitbuttonid").attr("disabled","true"); $("#visitlimit_addlimitbuttonid").html("Add Limit"); if(e.relatedTarget.id=='newMaximum'){ $('#editVisitLimitModalLabel').html('Add Visit Limit'); $("#visitlimit_bencat_Type").val(""); $("#visitlimit_1_limitType").val(""); $("#visitlimit_1_limitValue").val(""); $("#visitlimit_1_limitFreq").val(""); $("#visitlimit_1_limitFreqType").val(""); $("#visitlimit_limitCrossApplies").val(""); $("#visitlimit_limitApplies").val(""); $("#maxId").val(""); flagModel = true; $(".delete-maximum").hide(); } else if(e.relatedTarget.id=='editMaximum'){ $(".delete-maximum").show(); $('#editVisitLimitModalLabel').html('Edit Visit Limit'); var maximumData = $(e.relatedTarget).data('value'); const arrMaxData = maximumData.split("^"); console.log("valss ",maximumData) $("#visitlimit_bencat_Type").val(arrMaxData[0]); $("#visitlimit_limitApplies").val(arrMaxData[1]); $("#visitlimit_limitCrossApplies").val(arrMaxData[2]); $("#visitlimit_1_limitType").val(arrMaxData[3]); $("#visitlimit_1_limitValue").val(arrMaxData[4]); $("#visitlimit_1_limitFreqType").val(arrMaxData[5]); $("#visitlimit_1_limitFreq").val(arrMaxData[6]); $("#maxId").val(arrMaxData[7]); flagModel = false; bcOldValue = document.getElementById("visitlimit_bencat_Type").value; initialFormState = {}; $('#editVisitLimitModal .adddvisitlimitbutaction, #editVisitLimitModal input, #editVisitLimitModal select').each(function () { initialFormState[this.id] = $(this).val(); }); } }); $('#editVisitLimitModalClearBut').on('click', function (e) { $('#editVisitLimitModalSaveBut').attr("disabled","true"); $("#visitlimit_bencat_Type").val(""); $("#visitlimit_1_limitType").val(""); $("#visitlimit_1_limitValue").val(""); $("#visitlimit_1_limitFreq").val(""); $("#visitlimit_1_limitFreqType").val(""); $("#visitlimit_limitCrossApplies").val(""); $("#visitlimit_limitApplies").val(""); $("#maxId").val(""); }); $(document).on('input change', '#editVisitLimitModal .adddvisitlimitbutaction, #editVisitLimitModal input, #editVisitLimitModal select', function () { let ifpRoleId = Number(document.getElementById('ifpRoleId').value); // Make sure this hidden field exists and is set if (ifpRoleId === 10) { $('#editVisitLimitModalSaveBut').prop('disabled', true); return; } let hasChanged = false; $('#editVisitLimitModal .adddvisitlimitbutaction, #editVisitLimitModal input, #editVisitLimitModal select').each(function () { if (initialFormState[this.id] !== $(this).val()) { hasChanged = true; return false; } }); $('#editVisitLimitModalSaveBut').prop('disabled', !hasChanged); }); $("#visitlimit_bencat_Type").change(function () { if (($("#visitlimit_bencat_Type").val()) == "") { $('#editVisitLimitModalSaveBut').attr("disabled","true"); } else { $('#editVisitLimitModalSaveBut').removeAttr("disabled"); } }); document.getElementById("cocSeries").addEventListener("input", function () { if ($('#cocSeries').val() === null || $('#cocSeries').val().length === 0) { onCocChange(); } }); });
