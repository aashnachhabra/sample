function splitServiceRuleMgmtRecord() {
	var request = {};
	 var selectedPlCostShareID =  document.getElementById("plCostShareID").value;
	 selectedPlCostShareID = parseInt(selectedPlCostShareID);
	 request["plCostShareID"] = selectedPlCostShareID
	if (request != null || request != '') {
		showAndHide();
		$.ajax({
			type: "POST",
			contentType: "application/json",
			url: "splitPaymentLineRecord",
			data: JSON.stringify(request),
			dataType: 'json',
			success: function (response) {
//				if (response.serviceRuleMsg == "SUCCESS") {
//					$("#splitModal").modal('hide');
//					document.getElementById("successSplitMessage").innerHTML = 'Successfully Split Service Rule Record';
//					$("#sucessBoxSplitModal").modal("toggle");
//					console.log(response)
                        if(response){
                               $.ajax({
                                                       type: "POST",
                                                       contentType: "application/json",
                                                       url: "setCostShareMapID",
                                                       data: JSON.stringify(response),
                                                       dataType: 'json',
                                                       success: function (response) {
                                                       if (response.serviceRuleMsg == "SUCCESS") {
                                                               var newTab = window.open("./getServiceRuleMgmtSplitDetails", '_blank')
                                                               newTab.focus();
                                                               }
                                                       },
                            });
                        }
                                          var request1 = {};
                                            var plCostShareIDs=document.getElementById("plCostShareIDs").value;
                        	                request1["plCostShareIDs"] = JSON.parse(plCostShareIDs);
                        	                var costShareMapIDs =document.getElementById("costShareMapIDs").value;
                        	                request1["costShareMapIDs"]=JSON.parse(costShareMapIDs)
                        	                var costShareAdminIDs =document.getElementById("costShareAdminIDs").value;
                                            request1["costShareAdminIDs"]=JSON.parse(costShareAdminIDs)
                                            request1["splitPlCostShareID"]=selectedPlCostShareID
                        	                console.log(costShareMapIDs);
                        	                console.log(plCostShareIDs)
                                            $.ajax({
                                                type: "POST",
                                                contentType: "application/json",
                                                url: "removePlCostShare",
                                                data: JSON.stringify(request1),
                                                dataType: 'json',
                                                success: function (response) {
                                                console.log(typeof response)
                                                if(response){
                                                $.ajax({
                                                                                                      type: "GET",
                                                                                                      contentType: "application/json",
                                                                                                     url: "setCostShareMapID",
//                                                                                                       data: JSON.stringify(response),
                                                                                                      dataType: 'json',
                                                                                                      success: function (response1) {
                                                                                                      if (response1) {
                                                                                                      console.log(response1)
																									  window.location.href = "./getServiceRuleMgmtDetails";
                                                                                                              }
                                                                                                      },
                                                                           });
                                                }
                                                }
                                                });
//                                                }
//                        },
//                        error: function (xhr) {
//                            console.log(xhr);
//                            alert("Error while Getting Service Rule Management Details.");
//                        }
//                    });
//				} else if (response.serviceRuleMsg == "ERROR") {
//					$("#splitModal").modal('hide');
//					document.getElementById("ErrorMesssage").innerHTML = 'Something went wrong while split Payment Line Service Rule Management, please try again..!';
//					$("#errorModal").modal("toggle");
//				}
				showAndHide();
			},
			error: function (xhr) {
				console.log("error", xhr);
				alert("Something went wrong while split Payment Line Service Rule Management, please try again..!");
			}
		});
	}
}

so in this function i have 4 api calls happening where in first 2i am opening a new tab with new created record and other 2 to update the existing page to show the updated data of the record. my new tab is opening with correct screen however my new api call is not working what changes are needed
