<%@ page import="com.optum.ideate.mongodb.domain.BenefitCategory" %>
    <%@ page import="java.util.List" %>
        <%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
            <%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
                <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn" %>
                    <!doctype html>
                    <html>

                    <head>
                        <meta charset="utf-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
                        <script src="https://code.jquery.com/jquery-3.5.1.js"
                            integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
                            crossorigin="anonymous"></script>
                        <link rel="stylesheet" href="css/UHCcustom.css">
                        <link rel="stylesheet" href="css/home.css">
                        <link rel="stylesheet" href="css/bootstrap.css">
                        <link rel="stylesheet" href="css/all.css">
                        <link rel="stylesheet" href="css/loader.css">
<link rel="stylesheet" href="css/bootstrap-multiselect.css">
                        <link rel="stylesheet" href="css/multislect-dropdown.css">
                        <script src="js/popper-1.14.3.min.js"></script>
                        <script src="js/datatables-1.11.5.min.js"></script>
                        <script src="js/datatables-1.11.4.bootstrap4.min.js"></script>
                        <script src="js/lodash-4.17.10.min.js"></script>
                        <script src="js/UHCcustom.js"></script>
                        <script src="js/bootstrap.min.js"></script>
                        <script src="js/bootstrap-popup.min.js"></script>
                        <script src="js/loader.js"></script>
                        <script src="js/jquery-3.5.1.js"></script>
                        <script type="text/javascript" src="js/bootstrap-multiselect.js"></script>
                    
                        <script src="js/app/maximum-management.js"></script>

                        <title>Plan Library</title>
                        <link rel="icon" href="assets/PlanBuilderFavIcon.png">
                        <style>
                            .table-striped tbody tr.highlight td {
                                background-color: #ff0000;
                            }

                            .table-striped tbody tr.highlight {
                                background-color: #ff0000;
                            }

                            .accordion-body .d-flex button {
                                flex: 1;
                            }

                            .accordion-header .form-check-input {
                                transform: scale(0.4);
                                margin-right: 5px;
                            }
                            .accordion-button:not(.collapsed) .selectable-accordion strong,
                            .accordion-button:not(.collapsed) .selectable-accordion small {
                                color: var(--bs-primary) !important;
                            }
                        </style>

                        <link href="js/frappe-datatable.min.css" rel="stylesheet">
                        <link rel="stylesheet" href="css/fontawesome.min.css">
                        <link rel="stylesheet" href="css/brands.min.css">
                        <link rel="stylesheet" href="css/solid.min.css">
                    </head>

                    <body>
                        <div id="main">
                            <%@include file="loader.jsp" %>
                                <%@include file="header.jsp" %>
                                    <div class="text-primary" style="margin: 2em;">
                                        <h1><i class="fa-solid fa-filter-circle-dollar"></i> Maximum Management</h1>
                                    </div>
                                    <div class="shadow-lg p-3 mb-5 bg-white rounded" style="margin:2em">
                                        <form action="./maxManagementSearch" id="bcfilters" method="post"
                                            autocomplete="off">
                                            <input type="hidden" id="ifpRoleId"
                                                value="${pageContext.session.getAttribute('ifpRoleId')}" />
                                            <input type="hidden" name="validateCoc" id="validateCoc" value="" />
                                            <div class="row">
                                                <c:if test="${enabledCascade == 'true'}">
                                                    <span class="modal-title text-danger">
                                                        <b>Warning: </b> There are benefit limit changes that have not
                                                        been cascaded to applicable plans. If you do not cascade these
                                                        updates, the applicable plans will not receive the changes. If
                                                        you leave this page the updates will be saved but not cascaded.
                                                    </span>
                                                </c:if>
                                            </div>
                                            </br>
                                            <div class="row">
                                                <div class="col">
                                                    <div class="form-floating">
                                                        <select id="cocSeries" name="coc" class="form-control"
                                                            multiple="multiple"
                                                            onchange="return validateSearch(true),onCocChange();">
                                                            <c:forEach var="coc" items="${maximumDD.cocSeriesMap}">
                                                                <c:set var="isSelected" value="false" />
                                                                <c:forEach var="selectedCoc"
                                                                    items="${fn:split(fn:escapeXml(maxManagementSearchRequest.coc != null ? maxManagementSearchRequest.coc : ''), ',')}">
                                                                    <c:if test="${fn:trim(selectedCoc) eq coc.key}">
                                                                        <c:set var="isSelected" value="true" />
                                                                    </c:if>
                                                                </c:forEach>
                                                                <option id="${coc.key}" value="${coc.key}" <c:if
                                                                    test="${isSelected}">selected</c:if>>${coc.value}
                                                                </option>
                                                            </c:forEach>
                                                        </select>
                                                        <script>
                                                            $("#cocSeries").multiselect({
                                                                filterPlaceholder: 'Search for COC Series*',
                                                                enableFiltering: true,
                                                                enableCaseInsensitiveFiltering: true,
                                                                includeSelectAllOption: true,
                                                                maxHeight: 400,
                                                                dropUp: true,
                                                                nonSelectedText: 'COC Series*'
                                                            });
                                                        </script>
                                                    </div>
                                                </div>
                                                <div class="col">
                                                    <div class="form-floating">
                                                        <select id="state" name="stateName" class="form-control"
                                                            multiple="multiple" onchange="return validateSearch(true);">
                                                            <c:forEach var="state" items="${maximumDD.stateMap}">
                                                                <c:set var="isSelected" value="false" />
                                                                <c:forEach var="selectedState"
                                                                    items="${fn:split(fn:escapeXml(maxManagementSearchRequest.stateName != null ? maxManagementSearchRequest.stateName : ''), ',')}">
                                                                    <c:if test="${fn:trim(selectedState) eq state.key}">
                                                                        <c:set var="isSelected" value="true" />
                                                                    </c:if>
                                                                </c:forEach>
                                                                <option id="${state.key}" value="${state.key}" <c:if
                                                                    test="${isSelected}">selected</c:if>>${state.value}
                                                                </option>
                                                            </c:forEach>
                                                        </select>
                                                        <script>
                                                            $("#state").multiselect({
                                                                filterPlaceholder: 'Search for State*',
                                                                enableFiltering: true,
                                                                enableCaseInsensitiveFiltering: true,
                                                                includeSelectAllOption: true,
                                                                maxHeight: 400,
                                                                dropUp: true,
                                                                nonSelectedText: 'State*'
                                                            });
                                                        </script>
                                                    </div>
                                                </div>

                                                <div class="col">
                                                    <div class="form-floating">
                                                        <select id="standard" name="standard" class="form-control"
                                                            multiple="multiple" onchange="return validateSearch(true);">
                                                            <c:forEach var="stand" items="${maximumDD.standardMap}">
                                                                <c:set var="isSelected" value="false" />
                                                                <c:forEach var="selectedStand"
                                                                    items="${fn:split(fn:escapeXml(maxManagementSearchRequest.standard != null ? maxManagementSearchRequest.standard : ''), ',')}">
                                                                    <c:if test="${fn:trim(selectedStand) eq stand.key}">
                                                                        <c:set var="isSelected" value="true" />
                                                                    </c:if>
                                                                </c:forEach>
                                                                <option id="${stand.key}" value="${stand.key}" <c:if
                                                                    test="${isSelected}">selected</c:if>>${stand.value}
                                                                </option>
                                                            </c:forEach>
                                                        </select>
                                                        <script>
                                                            $("#standard").multiselect({
                                                                filterPlaceholder: 'Search for Product Family*',
                                                                enableFiltering: true,
                                                                enableCaseInsensitiveFiltering: true,
                                                                includeSelectAllOption: true,
                                                                maxHeight: 400,
                                                                dropUp: true,
                                                                nonSelectedText: 'Product Family*'
                                                            });
                                                        </script>
                                                    </div>
                                                </div>
                                            </div> in order to fix i put these scripts inside the select tag it does fix but i dont want the script in between jsp can i move it up or perhaps in js file which would have the exact same effct as putting it here
