<!doctype html> <%@ page import="org.apache.commons.lang3.StringUtils"%> <%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%> <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%> <%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%> <%@ taglib prefix="spring" uri="http://www.springframework.org/tags"%> <%@taglib prefix="e" uri="https://www.owasp.org/index.php/OWASP_Java_Encoder_Project"%> <html> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <script src="JS/jquery-3.3.1.min.js"></script> <script src="JS/popper-1.16.0.min.js"></script> <script src="JS/bootstrap-table-1.17.1.min.js"></script> <script src="JS/datatables-1.10.21.min.js"></script> <script src="JS/bootstrap.min.js"></script> <script src="JS/bootstrap-multiselect.min.js"></script> <script src="JS/jquery-ui-1.8.0.min.js"></script> <script src="JS/jquery-migrate-3.0.0.min.js"></script> <link rel="stylesheet" href="CSS/bootstrap.min.css"> <link rel="stylesheet" href="CSS/bootstrap-multiselect.min.css"> <link rel="stylesheet" href="CSS/custom.css"> <link rel="stylesheet" href="CSS/loader.css"> <link rel="stylesheet" href="Misc/fontawesome-6.1.2/css/all.min.css"> <script src="JS/datatables-buttons-1.5.2.html5.min.js"></script> <script src="JS/datatables-buttons-1.5.2.buttons.min.js"></script> <link rel="stylesheet" href="CSS/datatables.buttons-1.6.5.min.css"> <link rel="stylesheet" href="CSS/jquery-datatables-1.10.23.min.css"> <link rel="stylesheet" href="CSS/quill-1.3.6.snow.css"> <link rel="stylesheet" href="CSS/bootstrap-table-1.17.1.min.css"> <link rel="stylesheet" href="CSS/bs4-datatables-1.10.21.min.css"> <script type="text/javascript" src="JS/standardslibrary.js"></script> <script src="JS/search.js"></script> <meta name="_csrf" content="${_csrf.token}"/> <meta name="_csrf_header" content="${_csrf.headerName}"/> <title>CORE</title> <link rel="icon" href="Assets/CORE_Favicon.png"> <script> $(function() { $('[data-toggle="tooltip"]').tooltip(); $("#ht").click(function() { $("[data-toggle='tooltip']").tooltip('hide'); }); var ruleType = "<spring:escapeBody javaScriptEscape="true">${ruleType}</spring:escapeBody>"; //var ruleType = '${e:forHtml(ruleType)}'; console.log(ruleType); var searchQuery = '${searchQry}'; var searchQueryValue = searchQuery.split(", "); if (ruleType == '0' && searchQuery != '') { var ruleCategory = $('#RuleCategory').val(); var benefitCategory = $('#BenefitCategory').val(); var plan = $('#Plan').val(); var cocSeries = $('#COCSeries').val(); var org = $('#Org').val(); var state = $('#State').val(); var segment = $('#Segment').val(); var license = $('#License').val(); if (isFound(ruleCategory, searchQuery, false, false)) { $('#RuleCategory').multiselect('deselectAll', false); $('#RuleCategory').multiselect('select', searchQueryValue); } if (isFound(benefitCategory, searchQuery, false, false)) { $('#BenefitCategory').multiselect('deselectAll', false); $('#BenefitCategory').multiselect('select', searchQueryValue); } if (isFound(plan, searchQuery, false, false)) { $('#Plan').multiselect('deselectAll', false); $('#Plan').multiselect('select', searchQueryValue); } if (isFound(cocSeries, searchQuery, false, false)) { $('#COCSeries').multiselect('deselectAll', false); $('#COCSeries').multiselect('select', searchQueryValue); } if (isFound(org, searchQuery, false, false)) { $('#Org').multiselect('deselectAll', false); $('#Org').multiselect('select', searchQueryValue); } if (isFound(state, searchQuery, false, true)) { $('#State').multiselect('deselectAll', false); $('#State').multiselect('select', searchQueryValue); } if (isFound(segment, searchQuery, false, false)) { $('#Segment').multiselect('deselectAll', false); $('#Segment').multiselect('select', searchQueryValue); } if (isFound(license, searchQuery, false, false)) { $('#License').multiselect('deselectAll', false); $('#License').multiselect('select', searchQueryValue); } if (isFound(ruleJustification, searchQuery, false, true)) { $('#RuleJustification').multiselect('deselectAll', false); $('#RuleJustification').multiselect('select', searchQueryValue); } if ($(ruleType).val() != 3) { myTable.draw(); } } }); function removeTags(desc) { if (desc === null || desc === '') { return; } else { desc = desc.toString(); //$('#'+pid).addClass("ruleCardParagraph"); return desc.replace(/<[^>]+>/g, ''); } //var d=desc; //$('#'+pid).html(d); } </script> <style type="text/css"> .btn-small { padding: 0.25rem 0.5rem; font-size: 0.8rem; line-height: 1.3; border-radius: 0.2rem; } .form-check { position: relative; display: block; font-size: 16px; } .multiselect-container { position: absolute; list-style-type: none; margin: 0; min-width: 200px; } #topButton { position: fixed; bottom: 45px; right: 45px; z-index: 99; cursor: pointer; } </style> <style type="text/css"> .blur { transform: scale(1.0); opacity: 0.3; } .modal-content { margin: 2px auto; z-index: 1100 !important; } </style> </head> <body> <form id="searchForm" action="parentRuleSearch" method="post"> <input type="hidden" name="ruleIds" /> <input type="hidden" name="keyTypeValues" /> <input type="hidden" name="query" /> <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" /> </form> <%@include file="/Layout/header.jsp"%> <form id="filterForm" action="filterlibrary" method="post"> <input type="hidden" name="ruleCatIn" /> <input type="hidden" name="benCatIn" /> <input type="hidden" name="planIn" /> <input type="hidden" name="cocseriesIn" /> <input type="hidden" name="orgIn" /> <input type="hidden" name="stateIn" /> <input type="hidden" name="segmentIn" /> <input type="hidden" name="licenseIn" /> <input type="hidden" name="ruleJustificationIn" /> <input type="hidden" name="ruleType" /> <input type="hidden" name="tabSelect"> <input type="hidden" name="libraryName" /> <input type="hidden" name="currentPage" /> <input type="hidden" name="incremSlide" /> <input type="hidden" name="action" /> <input type="hidden" name="RuleTypeOpt" /> <input type="hidden" name="query" id="parentRuleSearchquery" value="${query}" /> <input type="hidden" name="standardsLibrarySize" /> <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" /> </form> <form id="exportRules" action="exportRules" method="post"> <input type="hidden" name="ruleCatIn" /> <input type="hidden" name="benCatIn" /> <input type="hidden" name="planIn" /> <input type="hidden" name="cocseriesIn" /> <input type="hidden" name="orgIn" /> <input type="hidden" name="stateIn" /> <input type="hidden" name="ruleJustificationIn" /> <input type="hidden" name="segmentIn" /> <input type="hidden" name="licenseIn" /> <input type="hidden" name="ruleType" /> <input type="hidden" name="reportType" /> <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" /> </form> <!-- Search Model --> <div class="modal fade" id="searchContainer" tabindex="-1" role="dialog"> <div class="modal-dialog modal-dialog-centered" role="document"> <div class="modal-content"> <%@include file="/Layout/search.jsp"%> </div> </div> </div> <div style="margin: 2em; padding-top: 0px;" class="mt-3 mb-0"> <div class="row"> <div class="col-11"> <h3 class="text-primary"> <c:choose> <c:when test="${libraryName=='buildYourOwnView'}">Build Your Own View</c:when> <c:when test="${ruleType=='0'}">Search Results</c:when> <c:when test="${ruleType=='1'}">Market Mandate Library</c:when> <c:when test="${ruleType=='2'}">EHB Mandate Library</c:when> <c:when test="${ruleType=='3'}">State Mandated Benefits</c:when> <c:when test="${ruleType=='4'}">Filed Ranges Library</c:when> <c:when test="${ruleType=='5'}">Coverage Determination Guidelines Library</c:when> <c:when test="${ruleType=='6'}">Product Standards Library</c:when> <c:when test="${ruleType=='7'}">Product Standards Variation Library</c:when> <c:when test="${ruleType=='8'}">Benefit Interpretation Library</c:when> <c:when test="${ruleType=='11'}">State-Specific Mandates</c:when> <c:when test="${ruleType=='12'}">State-Specific EHB Mandates</c:when> <c:when test="${ruleType=='13'}">Legislative Bulletin Library</c:when> <c:when test="${ruleType=='14'}">Multi-State(Common) Mandates</c:when> <c:when test="${ruleType=='15,16'}">State Mandates and Mandated Offers</c:when> <c:when test="${ruleType=='11,12'}">Combined State-Specific Mandates</c:when> <c:when test="${ruleType=='18'}">Business Rules</c:when> </c:choose> </h3> </div> </div> <div class="row"> <div class="col-11 lead text-primary"> <c:choose> <c:when test="${not empty standardsLibrary && standardsLibrary.size() <= 0 && ruleType=='0'}"> <div class="text-md-left font-weight-normal"> Your search - <i> ${searchQry} </i> - did not match any documents. </div> <ul style="font-size: 16px"> <li>Make sure all words are spelled correctly.</li> <li>Try different keywords.</li> <li>Try more general keywords.</li> <li>Try fewer keywords.</li> </ul> </c:when> </c:choose> </div> </div> </div> <c:choose> <c:when test="${libraryName eq 'buildYourOwnView'}"> <%@include file="/WEB-INF/JSP/buildYourOwnView.jsp"%> </c:when> <c:otherwise> <div class="col-12" style="margin-bottom: 3em; margin-top: -30px;"> <div class="col-1" style="float: right;"> <c:choose> <c:when test="${ruleType =='5' || ruleType =='8'}"> <c:if test="${roleId eq 2 or roleId eq 3 or roleId eq 4}"> <a role="button" class="btn btn-outline-primary btn-block" data-toggle="modal" data-target="#documentModal"><i class="fas fa-plus"></i></a> </c:if> </c:when> <c:when test="${ruleType =='1' || ruleType =='2' || ruleType =='3' || ruleType == '12' || ruleType == '11' || ruleType == '14' || ruleType == '15,16' || ruleType == '18'}"> <a role="button" class="btn btn-outline-primary btn-block" data-toggle="modal" data-target="#optionModal"><i class="fas fa-plus"></i></a> </c:when> <c:otherwise> <c:if test="${roleId eq 2 or roleId eq 3 or roleId eq 4}"> <a role="button" class="btn btn-outline-primary btn-block" href="<c:url value="/" />create-parent?ruleType=${ruleType}"><i class="fas fa-plus"></i></a> </c:if> </c:otherwise> </c:choose> </div> </div> <div id="pageContent" class="shadow-lg p-3 mb-5 bg-white" style="margin: 2em; padding-bottom: 1em"> <div class="table-responsive form-row"> <c:if test="${ruleType != '18'}"> <div class="col"> <label for="RuleCategory">Rule Category</label> </div> </c:if> <c:choose> <c:when test="${ruleType == '18'}"> <div class="col"> <label for="BenefitCategory">Data Element</label> </div> </c:when> <c:otherwise> <div class="col"> <label for="BenefitCategory">Benefit Category</label> </div> </c:otherwise> </c:choose> <div class="col"> <label for="Plan">Plan Type</label> </div> <div class="col"> <label for="COCSeries">COC Series</label> </div> <c:if test="${ruleType != '18'}"> <div class="col"> <label for="Org">Org.</label> </div> </c:if> <div class="col"> <label for="State">State</label> </div> <c:if test="${ruleType != '18'}"> <div class="col"> <label for="Segment">Segment</label> </div> </c:if> <c:if test="${ruleType != '18'}"> <div class="col"> <label for="License">License</label> </div> </c:if> <c:if test="${ruleType == '18'}"> <div class="col"> <label for="RuleJustification">Rule Justification</label> </div> </c:if> <div class="col"> <label for="applyFilterButton"></label> <label for="clearAllButton"></label> </div> </div> <div class="form-row"> <c:if test="${ruleType != '18'}"> <div class="col"> <select id="RuleCategory" class="form-control filterTable multiSelectField" multiple="multiple"> <c:forEach var="ruleCategory" items="${ruleCategoryMaster}"> <option value="${ruleCategory}" <c:if test="${fn:contains(ruleCat,ruleCategory)}">selected</c:if>>${ruleCategory}</option> </c:forEach> </select> </div> </c:if> <div class="col"> <select id="BenefitCategory" class="form-control filterTable multiSelectField" multiple="multiple"> <c:forEach var="benCategory" items="${benCatMaster}"> <option value="${benCategory.benCatValue}" <c:forEach var="category" items="${benCat}"> ${category == benCategory.benCatValue ? 'selected' : ''} </c:forEach>> ${benCategory.benCatName} </option> </c:forEach> </select> </div> <div class="col"> <select id="Plan" class="form-control filterTable multiSelectField" multiple="multiple"> <c:forEach var="pln" items="${planMaster}" varStatus="status"> <c:if test="${ruleType == '18' || status.index < 2}"> <option value="${pln.planTypeName}" <c:if test="${fn:contains(planIn, pln.planTypeName)}">selected</c:if>> ${pln.planTypeName} </option> </c:if> </c:forEach> </select> </div> <div class="col"> <select id="COCSeries" class="form-control filterTable multiSelectField" multiple="multiple"> <c:forEach var="cocSeries" items="${cocSeriesMaster}"> <option value="${cocSeries.cocSeriesName}" <c:if test="${fn:contains(cocseriesIn,cocSeries.cocSeriesName)}">selected</c:if>>${cocSeries.cocSeriesName}</option> </c:forEach> </select> </div> <c:if test="${ruleType != '18'}"> <div class="col"> <select id="Org" class="form-control filterTable multiSelectField" multiple="multiple"> <c:forEach var="org" items="${orgaizationsMaster}"> <option value="${org.orgShortName}" <c:if test="${fn:contains(orgIn,org.orgShortName)}">selected</c:if>>${org.orgName}</option> </c:forEach> </select> </div> </c:if> <div class="col"> <select id="State" class="form-control filterTable multiSelectField" multiple="multiple"> <c:forEach var="state" items="${statesMaster}"> <option value="${state.stateAbbr}" <c:if test="${fn:contains(stateIn,state.stateAbbr)}">selected</c:if>>${state.stateDesc}</option> </c:forEach> </select> </div> <c:if test="${ruleType != '18'}"> <div class="col"> <select id="Segment" class="form-control filterTable multiSelectField" multiple="multiple"> <c:forEach var="segment" items="${segmentsMaster}"> <option value="${segment.segmentShortName}" <c:if test="${fn:contains(segmentIn,segment.segmentShortName)}">selected</c:if>>${segment.segmentShortName}</option> </c:forEach> </select> </div> </c:if> <c:if test="${ruleType != '18'}"> <div class="col"> <select id="License" class="form-control filterTable multiSelectField" multiple="multiple"> <c:forEach var="license" items="${licenseMaster}"> <option value="${license.licenseShortName}" <c:if test="${fn:contains(licenseIn,license.licenseShortName)}">selected</c:if>>${license.licenseShortName}</option> </c:forEach> </select> </div> </c:if> <c:if test="${ruleType == '18'}"> <div class="col"> <select id="RuleJustification" class="form-control filterTable multiSelectField" multiple="multiple"> <c:forEach var="RuleJustification" items="${ruleJustificationMaster}"> <option value="${RuleJustification.justificationName}" <c:if test="${fn:contains(ruleJustificationIn,RuleJustification.justificationName)}">selected</c:if>>${RuleJustification.justificationName}</option> </c:forEach> </select> </div> </c:if> <div class="col btn-group" role="group" aria-label="Basic Example"> <button type="button" id="applyFilters" onclick="applyFilters()" style="border-top-left-radius: 5px; border-bottom-left-radius: 5px;" class="btn btn-outline-primary btn-small float:left">Apply Filters</button> <button type="button" id="clearAllButton" onclick="clearAllFilters()" style="border-top-left-radius: 0px; border-bottom-left-radius: 0px; border-top-right-radius: 5px; border-top-bottom-radius: 5px;" class="btn btn-outline-primary btn-small float:left">Clear Filters</button> </div> </div> <input type="hidden" id="libraryName" name="libraryName" value="${libraryName}" /> <c:if test="${not empty standardsLibrary && standardsLibrary.size() > 0}"> <c:choose> <c:when test="${standardsLibrary.size() != 0 && (standardsLibrary[0].ruleId != null) && (standardsLibrary[0].ruleTypeId != 13) && (standardsLibrary[0].ruleTypeId != 18)}"> <div class="col-12" style="text-align: right; margin-bottom: -22px;"> <a href="#" onClick="exportModalPopup();" class="link-primary" title="Export to Excel"> <i class="fas fa-file-export"></i> </a> </div> </c:when> <c:when test="${standardsLibrary[0].ruleTypeId == 18}"> <div class="col-12" style="text-align: right; margin-bottom: -22px;padding: 3px"> <button type="button" class="btn btn-outline-primary" onClick="exportModalPopup();" title="Export to Excel">Generate Export <i class="fas fa-file-export"></i></button> </div> </c:when> </c:choose> <c:if test="${standardsLibrary.size() != 0 && (standardsLibrary[0].ruleId == null) && (standardsLibrary[0].ruleTypeId != 13)}"> <div class="col-12" style="text-align: right; margin-bottom: -22px;" onclick="return false;"> <a href="/core/exportRules" title="You need to Export at least 1 Rule" data-toggle="tooltip" data-placement="bottom"><i class="fas fa-file-export"></i></a> </div> </c:if> <div class="btn-group btn-group-toggle" style="margin-top: 1%" data-toggle="buttons"> <c:choose> <c:when test="${tabSelect == 'detailed-view-option'}"> <label class="btn btn-primary btn-small focus active" id="detailed-view-option-label" style="border-top-left-radius: 5px; border-bottom-left-radius: 5px; pointer-events: none;"> <input type="radio" name="view-options" id="detailed-view-option" onclick="refreshPagination();" checked> Detailed View </label> </c:when> <c:otherwise> <label class="btn btn-primary btn-small" id="detailed-view-option-label" style="border-top-left-radius: 5px; border-bottom-left-radius: 5px;"> <input type="radio" name="view-options" id="detailed-view-option" onclick="refreshPagination();"> Detailed View </label> </c:otherwise> </c:choose> <c:choose> <c:when test="${tabSelect == 'condensed-view-option'}"> <label class="btn btn-primary btn-small focus active" id="condensed-view-option-label" style="border-top-left-radius: 0px; border-bottom-left-radius: 0px; border-top-right-radius: 5px; border-top-bottom-radius: 5px; pointer-events: none;"> <input type="radio" name="view-options" id="condensed-view-option" onclick="refreshPagination();" checked> Condensed View </label> </c:when> <c:otherwise> <label class="btn btn-primary btn-small" id="condensed-view-option-label" style="border-top-left-radius: 0px; border-bottom-left-radius: 0px; border-top-right-radius: 5px; border-top-bottom-radius: 5px;"> <input type="radio" name="view-options" id="condensed-view-option" onclick="refreshPagination();"> Condensed View </label> </c:otherwise> </c:choose> </div> <c:if test="${standardsLibrary.size() != 0 && (standardsLibrary[0].ruleId != null)}"> <c:choose> <c:when test="${tabSelect == 'detailed-view-option'}"> <div id="detailed-view"> </c:when> <c:otherwise> <div id="detailed-view" style="display: none;"> </c:otherwise> </c:choose> <input type="hidden" id="standardsLibrarySize" name="standardsLibrarySize" value="${totalRecord}" /> <input type="hidden" id="currPage" name="currPage" value="${currentPage}" /> <input type="hidden" id="incremSlide" name="incremSlide" value="${incremSlide}" /> <input type="hidden" id="rowsPerPage" name="rowsPerPage" value="${rowsPerPage}" /> <input type="hidden" id="libraryName" name="libraryName" value="${libraryName}" /> <input type="hidden" id="action" name="action" value="${action}" /> <c:forEach var="standardsLibrary" items="${standardsLibrary}" varStatus="loop"> <c:if test="${loop.first || (loop.index + 1) % 2 != 0}"> <div id="stLibCardLayout" class="row line-content" style="padding-top: 2em"> </c:if> <div class="col-6"> <div class="card ${standardsLibrary.statusCode.equalsIgnoreCase('Published') || standardsLibrary.statusCode.equalsIgnoreCase('Delete') ? 'border-primary' : ( standardsLibrary.statusCode.equalsIgnoreCase('New') ? 'border-success' : 'border-danger')} " style="height: 100%;"> <div class="card-body ruleCard" style="padding-bottom: 0px;"> <a class="text-primary" target="_blank" href="<c:url value="/" />edit-parent?parentID=${standardsLibrary.ruleId}&ruleType=${standardsLibrary.ruleTypeId}"> <strong> <c:if test="${standardsLibrary.statusCode.equalsIgnoreCase('New') || standardsLibrary.statusCode.equalsIgnoreCase('Unpublished') }"> <span class="badge ${standardsLibrary.statusCode.equalsIgnoreCase('New') ? 'badge-success' : 'badge-danger'}" style="margin-right: 0.5%"> ${standardsLibrary.statusCode.equalsIgnoreCase('New') ? 'New' : 'Unpublished'} </span> </c:if> <span> ${statesMap[standardsLibrary.stateCode]} <c:forEach var="g" items="${fn:split(standardsLibrary.states, ',')}"> <span>${statesMap[fn:trim(g)]}</span> </c:forEach> <c:if test="${ruleType== '5' || ruleType== '8'}"> </c:if>- ${standardsLibrary.ruleTitle} </span> </strong> </a> <div class="ruleCardParagraph truncated-tooltip" style="margin-bottom: 12px;" discontinueDate='${standardsLibrary.ruleDescDiscontinueDate}' effectiveDate='${standardsLibrary.ruleDescEffectiveDate}' data-toggle="tooltip" data-placement="bottom"> ${ruleDescMap[standardsLibrary.ruleId]}</div> </div> <div class="row" style="padding-bottom: 5px; margin-left: 5px;"> <div class="col"> <span class="badge badge-pill badge-secondary"><c:if test="${(!empty standardsLibrary.orgName && standardsLibrary.orgName != null) && standardsLibrary.orgName != 'null'}">${standardsLibrary.orgName}</c:if></span> <span class="badge badge-pill badge-secondary"><c:if test="${(!empty standardsLibrary.segment && standardsLibrary.segment != null) && standardsLibrary.segment != 'null'}">${standardsLibrary.segment}</c:if></span> <span class="badge badge-pill badge-secondary"><c:if test="${(!empty standardsLibrary.license && standardsLibrary.license != null) && standardsLibrary.license != 'null'}">${standardsLibrary.license}</c:if></span> <span class="badge badge-pill badge-secondary"><c:if test="${(!empty standardsLibrary.planType && standardsLibrary.planType != null) && standardsLibrary.planType != 'null'}">${standardsLibrary.planType}</c:if></span> </div> <c:choose> <c:when test="${standardsLibrary.childCount == null || empty standardsLibrary.childCount || standardsLibrary.childCount == 'null'}"> <div class="childCount text-primary"><strong> Child Rule Count: 0</strong></div> </c:when> <c:otherwise> <div class="childCount text-primary"><strong> Child Rule Count: ${standardsLibrary.childCount}</strong></div> </c:otherwise> </c:choose> </div> </div> </div> <c:if test="${loop.last || (not loop.first and (loop.index + 1) % 2 == 0)}"> </div> </c:if> <%-- <c:if test="${loop.last and (loop.index + 1) % 2 != 0}"> </div> </c:if> --%> </c:forEach> </div> </c:if> <c:if test="${standardsLibrary.size() != 0 && (standardsLibrary[0].ruleId != null)}"> <c:choose> <c:when test="${tabSelect == 'condensed-view-option'}"> <div id="condensed-view"> </c:when> <c:otherwise> <div id="condensed-view" style="display: none;"> </c:otherwise> </c:choose> <c:forEach var="standardsLibrary" items="${standardsLibrary}" varStatus="loop"> <c:if test="${loop.first || ((loop.count % 6 == 1) && (loop.count >= 3))}"> <div class="row" style="padding-top: 2em"> </c:if> <div class="col-2"> <div class="card ${standardsLibrary.statusCode.equalsIgnoreCase('Published') || standardsLibrary.statusCode.equalsIgnoreCase('Delete') ? 'border-primary' : ( standardsLibrary.statusCode.equalsIgnoreCase('New') ? 'border-success' : 'border-danger')} "> <div class="card-body"> <strong> <c:if test="${standardsLibrary.statusCode.equalsIgnoreCase('New') || standardsLibrary.statusCode.equalsIgnoreCase('Unpublished') }"> <span class="badge ${standardsLibrary.statusCode.equalsIgnoreCase('New') ? 'badge-success' : 'badge-danger'}" style="margin-right: 0.5%"> ${standardsLibrary.statusCode.equalsIgnoreCase('New') ? 'New' : 'Unpublished'} </span> </c:if> <span>${statesMap[standardsLibrary.stateCode]} -12 ${standardsLibrary.ruleTitle}</span> </strong> <div class="row"> <div class="col"> <div class="ruleCardParagraph" style="margin-bottom: 12px;"> </div> <c:if test="${standardsLibrary.orgName != null && standardsLibrary.orgName != 'null' and not empty standardsLibrary.orgName}"> <span class="badge badge-pill badge-secondary">${standardsLibrary.orgName} </span> <!-- </br> --> </c:if> <c:if test="${standardsLibrary.segment != null && standardsLibrary.segment != 'null' and not empty standardsLibrary.segment}"> <span class="badge badge-pill badge-secondary">${standardsLibrary.segment} </span> <!-- </br> --> </c:if> <c:if test="${standardsLibrary.license != null && standardsLibrary.license != 'null' and not empty standardsLibrary.license}"> <span class="badge badge-pill badge-secondary">${standardsLibrary.license} </span> <!-- </br> --> </c:if> <c:if test="${standardsLibrary.planType != null && standardsLibrary.planType != 'null' and not empty standardsLibrary.planType}"> <span class="badge badge-pill badge-secondary">${standardsLibrary.planType} </span> </c:if> </div> </div> </div> <div class="card-footer"> <div class="btn-group btn-block" role="group" aria-label="Condensed View Footer"> <div style="display: none;" id="ruleDescCondensed">${ruleDescMap[standardsLibrary.ruleId]}</div> <button type="button" class="btn btn-sm btn-outline-primary truncated-tooltip" style="border-top-left-radius: 3px; border-bottom-left-radius: 3px;" discontinueDate="${standardsLibrary.ruleDescDiscontinueDate}" effectiveDate="${standardsLibrary.ruleDescEffectiveDate}" data-toggle="tooltip" data-placement="bottom" title=""> <i class="fas fa-info-circle"></i> </button> <a type="button" class="btn btn-sm btn-outline-primary" data-toggle="tooltip" data-placement="bottom" title="Full View" target="_blank" href="<c:url value="/" />edit-parent?parentID=${standardsLibrary.ruleId}&ruleType=${standardsLibrary.ruleTypeId}"><i class="fas fa-book-reader"></i></a> <a type="button" class="btn btn-sm btn-outline-danger" data-toggle="tooltip" data-placement="bottom" title="Edit" target="_blank" href="<c:url value="/" />edit-parent?parentID=${standardsLibrary.ruleId}&ruleType=${standardsLibrary.ruleTypeId}"><i class="fas fa-pen text-danger"></i></a> </div> </div> </div> </div> <c:if test="${loop.last || (not loop.first and loop.count % 6 == 0 and loop.count >= 3)}"> </div> </c:if> </c:forEach> <div class="col-10" style="text-align: right; color: #002677 !important;"> <i class="fas fa-arrow-alt-circle-up fa-3x" id="topButton" onclick="topFunction()"></i> </div> </div> </c:if> <c:if test="${totalRecord > 8 && (standardsLibrary[0].ruleId != null)}"> <div class="col-12" style="padding-bottom: 60px;"> <div class="col-4" id="totalRecordsDisplay" style="top: 20px; left: 1px; position: absolute;"></div> <nav aria-label="Page navigation example" style="position: absolute; top: 20px; right: 0;"> <ul id="pagin" class="pagination"> </ul> </nav> </div> </c:if> </c:if> <div class="overlay"> <div id="processingModal"></div> </div> <!-- New File Modal --> <!-- data-toggle="modal" data-target="#documentModal" --> <div class="modal fade " id="documentModal"> <div class="modal-dialog modal-md modal-dialog-centered modal-dialog-scrollable"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" id="documentModalLabel">New Rule Document</h5> <button type="button" class="close" data-dismiss="modal">&times;</button> </div> <div class="modal-body"> <div class="alert alert-danger" hidden> <span id="documentErrorAlertBanner"></span> </div> <form> <div class="form-row"> <div class="from-group col-12"> <input type="hidden" id="ruleType" value="${e:forHtml(ruleType)}" /> <input type="file" class="form-control" id="fileSelectButton"> <span id="document_error" class="error"></span> </div> </div> <div class="form-row" style="padding-top: 1em"> <div class="from-group col-6"> <button type="button" class="btn btn-outline-warning btn-block" data-dismiss="modal">Cancel</button> </div> <div class="from-group col-6"> <button type="button" id="documentUploadButton" onclick="checkFileType()" class="btn btn-outline-primary btn-block">Upload</button> </div> </div> </form> </div> </div> </div> </div> <!-- New Option Modal --> <!-- data-toggle="modal" data-target="#optionModal" --> <div class="modal fade " id="optionModal"> <div class="listing-page modal-dialog modal-dialog-centered modal-dialog-scrollable"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" id="optionModalLabel">Please Select</h5> <button type="button" class="close" data-dismiss="modal">&times;</button> </div> <div class="modal-body"> <div class="form-row" style="padding-top: 1em"> <div class="from-group col-2"> <button type="button" class="btn btn-outline-warning btn-block" data-dismiss="modal">Cancel</button> </div> <div class="from-group mr-1"> <a role="button" class="btn btn-outline-primary btn-block" href="<c:url value="/" />create-parent?ruleType=${ruleType}">Create New Rule</a> </div> <div class="from-group"> <a role="button" class="btn btn-outline-primary btn-block" data-dismiss="modal" data-toggle="modal" data-target="#documentModal">Upload Rule Document</a> </div> <div class="from-group col-4"> <a id="syncBenefitCategoryBtn" role="button" class="btn btn-outline-primary btn-block">Sync Benefit Category</a> </div> </div> </div> </div> </div> </div> </c:otherwise> </c:choose> </div> <%@include file="/Layout/footer.jsp"%> <!-- Auto complete --> <div class="modal fade" id="majorMinorModal" tabindex="-1" role="dialog"> <div class="modal-dialog modal-dialog-centered" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title text-danger">Export Options</h5> <button type="button" id="majorMinorModalbtn" class="close" data-dismiss="modal" aria-label="Close" onClick="$('#majorMinorModal').hide();"> <span aria-hidden="true">&times;</span> </button> </div> <div class="modal-body"> <p>Please Choose An Export Option</p> </div> <div class="modal-footer"> <button type="button " onClick="getExportToExcel('standardExport');" class="btn btn-outline-primary " data-dismiss="modal" title="Use a Standard Export to see all rules in a Excel Spreadsheet, with Parent Details across the Column Headers">Standard Export</button> <button type="button" onClick="getExportToExcel('stateCompare');" class="btn btn-outline-success" name="delete-btn" data-dismiss="modal" title="Use a State Compare to see all rules broken down by State">State Compare</button> </div> </div> </div> </div> <div class="modal fade" id="errorModel"> <div class="modal-dialog modal-dialog-centered" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title text-danger">Required Fields</h5> <button type="button" id="majorMinorModalbtn" class="close" data-dismiss="modal" aria-label="Close" onClick="$('#errorModel').hide();"> <span aria-hidden="true">&times;</span> </button> </div> <div class="modal-body"> <p>Please Choose One OR More Rule Types</p> </div> <div class="modal-footer"> <button type="button" onClick="$('#errorModel').hide();" class="btn btn-outline-success" name="ok-btn" data-dismiss="modal" title="Use a State Compare to see all rules broken down by State">OK</button> </div> </div> </div> </div> <!-- Designed by Connor Ripley for United HealthCare Services, Inc. All Rights Reserved. Copyright 2021. --> <script> /* Browser Detection */ function isIE() { ua = navigator.userAgent; var is_ie = ua.indexOf("MSIE ") > -1 || ua.indexOf("Trident/") > -1; return is_ie; } if (isIE()) { alert('Warning - This site uses advanced features not supported by Internet Explorer. Please use Chrome or Edge instead.'); } </script> </body> </html>

this is a jsp of a code.
i wanna inmplement a condition where if benCatName & cocSeries & state & standars (in ui Product Family<) this combination is same then there will be a single accordion header with benCatName and the rest of the info will be displayed when the accordion is open 
sub category name doesnt exist yet in the backend  but for now create a key and assign it null, visible also doent exist will have a key visible and assign is false fr now
 rest all the fields like Applies To	Cross Applies	Max Type	Max Value	Freq. Type	Freq. Value display as it is coming.
only implement this logic do not modify anything else or disturb ui
let me know if u need the js for this to implement it there or this jsp is enough
tell me the updates and code changes and their exact location in codebase
