public CodeDocumentProcessResponse processCodeDocuments(List<String> filePaths) {
        System.out.println("Entering processDocuments");
        CodeDocumentProcessResponse response = new CodeDocumentProcessResponse();
        for (String filePath : filePaths) {
            try {
                System.out.println("Processing Document with file path" + filePath);
                CodeDocument document = new CodeDocument();
                document.setFileName(filePath.substring(filePath.lastIndexOf("/") + 1));
                document.setFileType("Code");
                document.setDocumentation(getDocumentationUsingOpenAi(filePath, document));
                document.setVector(generateEmbeddingService.generateVector(document.getDocumentation()));
                codeDocumentRepository.save(document);
                response.addProcessedFile(filePath);
            } catch (Exception e) {
                e.printStackTrace();
                response.addUnprocessedFile(filePath);
            }

        }
        System.out.println("Exiting processDocuments");
        return response;
    }

currently  i have this function which is generating vector based on the documentation created however my code document has another thing called code now i want to vectorize based on the code
please rewrite this function. Name the function as processCode
