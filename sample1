import React, { useState } from "react";
import axios from "axios";
const Upload = () => {
   const [selectedFiles, setSelectedFiles] = useState([]);
   const [message, setMessage] = useState("");
   const handleFileChange = (event) => {
       setSelectedFiles(event.target.files);
   };
   const handleUpload = async () => {
       if (!selectedFiles.length) {
           setMessage("Please select at least one file.");
           return;
       }
       const formData = new FormData();
       for (let i = 0; i < selectedFiles.length; i++) {
           formData.append("files", selectedFiles[i]);
       }
       try {
           const response = await axios.post("http://127.0.0.1:8000/upload/", formData, {
               headers: { "Content-Type": "multipart/form-data" },
           });
           setMessage(`Files uploaded successfully: ${response.data.files.join(", ")}`);
       } catch (error) {
           console.error("Upload error:", error);
           setMessage("Failed to upload files.");
       }
   };
   const fetchJsonFromMongo = async () => {
       try {
           const response = await axios.get("http://127.0.0.1:8000/fetch-json/");
           setMessage(`Fetched ${response.data.count} JSON documents from MongoDB`);
       } catch (error) {
           console.error("Fetch JSON error:", error);
           setMessage("Failed to fetch JSON data from MongoDB.");
       }
   };
   return (
<div>
<input type="file" multiple onChange={handleFileChange} />
<button onClick={handleUpload}>Upload</button>
<button onClick={fetchJsonFromMongo}>Fetch JSON from MongoDB</button>
<p>{message}</p>
</div>
   );
};
export default Upload;

this is the existing code
