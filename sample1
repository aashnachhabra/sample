public NotificationAuditTrail saveNotificationAuditTrail(NotificationAuditTrailRequest notificationAuditTrailRequest) {
        NotificationAuditTrail notificationAuditTrail = new NotificationAuditTrail();
        notificationAuditTrail.setField(notificationAuditTrailRequest.getField());
        notificationAuditTrail.setOldValue(notificationAuditTrailRequest.getOldValue());
        notificationAuditTrail.setNewValue(notificationAuditTrailRequest.getNewValue());
        notificationAuditTrail.setIsCurrent(true);
        notificationAuditTrail.setModifiedBy(usersService.getCurrentUser());
        if (notificationRepository.findByNotificationIDAndIsCurrentTrue(notificationAuditTrailRequest.getNotificationID())!=null)
        {
            notificationAuditTrail.setNotification(notificationRepository.findByNotificationIDAndIsCurrentTrue(notificationAuditTrailRequest.getNotificationID()));
        }else
        {
            throw new ResourceNotFoundException("Notification not found.");
        }
        if (usersRepository.findByUserID(notificationAuditTrailRequest.getUserID())!=null)
        {
            notificationAuditTrail.setUsers(usersRepository.findByUserID(notificationAuditTrailRequest.getUserID()));
        }else
        {
            throw new ResourceNotFoundException("User not found.");
        }
        return notificationAuditTrailRepository.save(notificationAuditTrail);
    }

write a spock groovy test case for this function using specification
